{% extends "base.html" %}

{% block title %} Write Article {% endblock%}

{% block content %}
<!-- Register Form -->
<div class=" section single-page">

  <div class="section-center create-article-center">
    <div class="center">
      <h2>{{ legend }}</h2>
    </div>
    <div class="form-box ">
      <form class="form" method="post" action="" enctype="multipart/form-data">
        {{ form.hidden_tag() }}

        <div class="form-group">
          <!-- Title -->
          {{ form.title.label(class="form-label")}}
          {% if form.title.errors %}
            {{ form.title() }}
            <div class="invalid-feedback">
              {% for error in form.title.errors%}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
            {{ form.title(placeholder="Title") }}
          {% endif%}
          <!-- End of Title -->
        </div>


        <div class="form-group">
          <!-- Image input -->
          {{ form.image.label(class="custom-file-label form-label")}}
          {% if form.image.errors %}
            {{ form.image(class="hidden-btn") }}
            <span class="selected-image">No image selected</span>
            <div class="invalid-feedback">
              {% for error in form.image.errors%}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
            {{ form.image(class="hidden-btn") }}
            <span class="selected-image">No image selected</span>
          {% endif%}
          <!-- End of Image input -->
        </div>

        <div class="form-group">
          <!-- Intro -->
          {{ form.intro.label(class="form-label")}}
          {% if form.intro.errors %}
            {{ form.intro() }}
            <div class="invalid-feedback">
              {% for error in form.intro.errors%}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
            {{ form.intro(class="article-input", rows='5') }}
          {% endif%}
          <!-- End of Intro -->
        </div>

        <div class="form-group">
          <!-- Body -->
          {{ form.body.label(class="form-label")}}
          {% if form.body.errors %}
            {{ form.body() }}
            <div class="invalid-feedback">
              {% for error in form.body.errors%}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
            {{ form.body(class="article-input", rows='10') }}
          {% endif%}
          <!-- end of Body -->
        </div>

        <div class="form-group">
          <div class="tag-form">
            <label class="form-label" for="tags">Tags</label>
            <span class="add-tag-btn" id="add-btn">+</span>
            <span class="delete-tag-btn">-</span>
            <div class="tag-field">
              <span class="tag-text">Add at least one Tag</span>
              <div class="article-tags">{{ form.tag0(class="create-tag")}}
                {% if tags%}
                  {% for tag in tags[1:]%}
                    <input class="create-tag" id="tag{{ loop.index }}" name="tag{{ loop.index }}" required tpye="text" value="{{ tag }}">
                  {% endfor %}
                {% endif %}
              </div>
            </div>
          </div>
        </div>
        <!-- Tags -->

        <!-- End of Tags -->

        <div class="center">
          {{ form.submit()}}
        </div>
      </form>
    </div>
  </div>
</div>

<!-- End of Register Form -->
{% endblock %}
